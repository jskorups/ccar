@model IEnumerable<ccar.Models.MeetingMinutesDatesDetails>

<p>
    @Html.ActionLink("Create New", "Create")
</p>


@using (Html.BeginForm("AddOrEdit", "Action", FormMethod.Post, new { onsubmit = "return SubmitForm(this)" }))
{
<div class="form-group container" style="margin-left:200px; width:650px;">


    <div class="col-lg-10 text-center">
        <div class="row text-center" >

            <div class="col-md-5 mb-5 text-left">
                @Html.Label("Project", new { @class = "control-label" })
            </div>
            <div class="col-md-5 mb-5 text-center">
                @Html.DropDownList("Project type", ccar.Models.MeetingMinutesDatesDetails.projectList, new { @class = "form-control" })
            </div>
            <div class="col-md-1 mb-1">
                <button type="button" class="btn btn-default" style="display:block; background-color:indianred" onclick="location.href='@Url.Action("ProjectList", "MeetingMinutesProject")'"> <span class="glyphicon glyphicon-edit" style="color:white; background-color:indianred" aria-hidden="true"></span></button>
            </div>

        </div>
    </div>


    <div class="col-lg-10 text-center" style="margin-top:10px; margin-bottom:5px;">
        <div class="row">
            <h4>Attendance list</h4>
        </div>
    </div>

    <div class="col-lg-10 text-center" style="margin-bottom:50px">
        @foreach (var item in Model)
        {
            <div class="row" style="margin-bottom:5px; margin-top:5px;">
                <div class="col-md-5 mb-5 text-left">
                    @Html.DisplayFor(modelItem => item.name)
                </div>
                <div class="col-md-5 mb-5 text-center">
                    @Html.DropDownList("Status type", ccar.Models.MeetingMinutesDatesDetails.attendanceStatusList, new { @class = "form-control" })
                </div>
            </div>
        }


    </div>
    <div class="col-md-1 mb-1" style="margin-left:-85px;">
        <button type="button" class="btn btn-default" style="display:block; background-color:indianred" onclick="location.href='@Url.Action("ReasonList", "Reason")'"> <span class="glyphicon glyphicon-edit" style="color:white; background-color:indianred" aria-hidden="true"></span></button>
    </div>

    <div class="form-group container" style="margin-top:100px;">
        <div class="row">
            <div class="col-md-12 mb-12 text-center">
                <input type="submit" value="Submit" class="btn btn-success" style="width:250px; height:40px" />
                <input type="reset" value="Reset" class="btn btn-danger" style="width:250px; height:40px" />
            </div>
        </div>
    </div>

</div>

    <script>

        function SubmitForm(form) {
            $.validator.unobtrusive.parse(form);
            if ($(form).valid()) {
                $.ajax({
                    type: "POST",
                    url: form.action,
                    data: $(form).serialize(),
                    success: function (data) {
                        //if (data.success) {
                        Popup.dialog('close');
                        dataTable.ajax.reload();

                        $.notify(data.message, {
                            globalPosition: "top center",
                            className: "success"

                        })

                        //}
                    }
                });
            }
            return false;
        }
    </script>
}